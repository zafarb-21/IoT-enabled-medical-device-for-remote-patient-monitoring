# On cloud VM, install the software stack:
sudo apt update
sudo apt install mosquitto mosquitto-clients
sudo systemctl enable mosquitto

# Install Telegraf
wget -qO- https://repos.influxdata.com/influxdata-archive.key | sudo apt-key add -
echo "deb https://repos.influxdata.com/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/influxdata.list
sudo apt install telegraf
sudo nano /etc/telegraf/telegraf.conf
sudo systemctl start telegraf
sudo systemctl enable telegraf

# Install InfluxDB
wget -q https://repos.influxdata.com/influxdata-archive.key
sudo apt-get install influxdb2
sudo systemctl enable influxdb

# Install Grafana
wget -q -O - https://packages.grafana.com/gpg.key | sudo apt-key add -
sudo apt-get install grafana
sudo systemctl enable grafana-server
